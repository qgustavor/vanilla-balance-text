(function(w){var q=function(d,x,k){var h;return function(){var q=this,B=arguments;h?clearTimeout(h):k&&d.apply(q,B);h=setTimeout(function(){k||d.apply(q,B);h=null},x||100)}};window.smartresize=function(d,x){d.length||(d=[d]);for(var k=0;k<d.length;k++)if(x)d[k].addEventListener("resize",q(x));else{var h=document.createEvent("HTMLEvents");h.initEvent("resize",!0,!1);d[k].dispatchEvent(h)}}})(window);
(function(w){function q(){this.reset()}var d=document.documentElement.style,x=d.textWrap||d.WebkitTextWrap||d.MozTextWrap||d.MsTextWrap||d.OTextWrap,k;q.prototype.reset=function(){this.width=this.index=0};var h=function(c,a){var g=/\s(?![^<]*>)/g,b;if(!k)for(k=[];null!==(b=g.exec(c));)k.push(b.index);return-1!==k.indexOf(a)},E=function(c){if(c){for(var a=c.querySelectorAll('br[data-owner="balance-text"]'),g=0;g<a.length;g++)a[g].parentNode.removeChild(a[g]);a=c.querySelectorAll('span[data-owner="balance-text"]');
if(0<a.length){for(var b="",g=0;g<a.length;g++)b+=a[g].textContent,a[g].parentNode.removeChild(a[g]);c.innerHTML=b}}},B=function(c,a,g){a=a.trim();var b=a.split(" ").length;a+=" ";if(2>b)return a;var f=document.createElement("span");f.innerHTML=a;c.appendChild(f);a=f.getBoundingClientRect().width;c.removeChild(f);f.style.wordSpacing=Math.floor((g-a)/(b-1))+"px";f.setAttribute("data-owner","balance-text");f&&f.tagName?f.outerHTML?f=f.outerHTML:(c=document.createElement("div"),c.appendChild(f.cloneNode(!0)),
f=c.innerHTML):f="";return f},G=function(c,a){return 0===a||a===c.length||h(c,a-1)&&!h(c,a)},D=function(c,a,g,b,f,d,k){var h;if(a&&"string"===typeof a)for(;;){for(;!G(a,d);)d+=f;c.innerHTML=a.substr(0,d);h=c.getBoundingClientRect().width;if(0>f?h<=b||0>=h||0===d:b<=h||g<=h||d===a.length)break;d+=f}k.index=d;k.width=h},t=[],C=!1,y=function(){if(!C){C=!0;for(var c=document.querySelectorAll(".balance-text"),a=0;a<c.length;a++)t.push(c[a])}for(a=0;a<t.length;a++)F(t[a],!0)},F=function(c,a){if(c){c.length||
(c=[c]);for(var g=0;g<c.length;g++){var b=c[g];a||-1!==t.indexOf(b)||t.push(b);if(x)break;E(b);var f=b.style.whiteSpace,h=b.style["float"],w=b.style.display,y=b.style.position,C=b.style.lineHeight;b.style.lineHeight="normal";var l=b.getBoundingClientRect(),r=l.width,z=l.height;b.style.whiteSpace="nowrap";b.style.cssFloat="none";b.style.display="inline";b.style.position="static";var p=b.getBoundingClientRect(),l=p.width,p=p.height,A;if("pre-wrap"===f)A=0;else{var m=b;A=p;var e=document.createElement("div");
e.style.display="block";e.style.position="absolute";e.style.bottom=0;e.style.right=0;e.style.width=0;e.style.height=0;e.style.margin=0;e.style.padding=0;e.style.visibility="hidden";e.style.overflow="hidden";var u=document.createElement("span");u.style.fontSize="2000px";u.innerHTML="&nbsp;";e.appendChild(u);m.appendChild(e);m=u.getBoundingClientRect();e.parentNode.removeChild(e);A/=m.height/m.width}if(0<r&&l>r&&5E3>l){var e=b.innerHTML,n=m="";d=b.currentStyle||window.getComputedStyle(b,null);u="justify"===
d.textAlign;for(z=Math.round(z/p);1<z;){k=null;l=Math.round((l+A)/z-A);p=Math.round((e.length+1)/z)-1;n=new q;D(b,e,r,l,-1,p,n);var v=new q,p=n.index;D(b,e,r,l,1,p,v);n.reset();p=v.index;D(b,e,r,l,-1,p,n);l=0===n.index?v.index:r<v.width||n.index===v.index?n.index:Math.abs(l-n.width)<Math.abs(v.width-l)?n.index:v.index;n=e.substr(0,l);u?m+=B(b,n,r):(m+=n.replace(/\s$/,""),m+='<br data-owner="balance-text">');e=e.substr(l);z--;b.innerHTML=e;l=b.getBoundingClientRect().width}b.innerHTML=u?m+B(b,e,r):
m+e}b.style.whiteSpace=f;b.style.cssFloat=h;b.style.display=w;b.style.position=y;b.style.lineHeight=C}}};w.balanceText=F;w.balanceText.update=y;w.balanceText.disable=function(c){if(c){c.length||(c=[c]);for(var a=0;a<c.length;a++){E(c[a]);var d=t.indexOf(c[a]);-1!==d&&t.splice(d,1)}}};"loading"!==document.readyState?y():document.addEventListener("DOMContentLoaded",y);smartresize(window,y)})("undefined"!==typeof module&&module.exports?module.exports:self||{});