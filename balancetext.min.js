(function(w){var k=function(e,x,g){var h;return function(){var k=this,q=arguments;h?clearTimeout(h):g&&e.apply(k,q);h=setTimeout(function(){g||e.apply(k,q);h=null},x||100)}};window.smartresize=function(e,x){e.length||(e=[e]);for(var g=0;g<e.length;g++)if(x)e[g].addEventListener("resize",k(x));else{var h=document.createEvent("HTMLEvents");h.initEvent("resize",!0,!1);e[g].dispatchEvent(h)}}})(window);
(function(w){function k(){this.reset()}var e=document.documentElement.style,x=e.textWrap||e.WebkitTextWrap||e.MozTextWrap||e.MsTextWrap||e.OTextWrap,g;k.prototype.reset=function(){this.width=this.index=0};var h=function(c,a){var e=/\s(?![^<]*>)/g,b;if(!g)for(g=[];null!==(b=e.exec(c));)g.push(b.index);return-1!==g.indexOf(a)},E=function(c){if(c){var a,e=!1;c.hasAttribute("id")?a=c.getAttribute("id"):(a="balancetext_"+Date.now(),c.setAttribute("id",a),e=!0);for(var b=document.querySelectorAll("#"+a+
' br[data-owner="balance-text"]'),d=0;d<b.length;d++)b[d].parentNode.removeChild(b[d]);a=document.querySelectorAll("#"+a+' span[data-owner="balance-text"]');if(0<a.length){b="";for(d=0;d<a.length;d++)b+=a[d].textContent,a[d].parentNode.removeChild(a[d]);c.innerHTML=b}e&&c.removeAttribute("id")}},q=function(c,a){e=c.currentStyle||window.getComputedStyle(c,null);return parseInt(e[a])},F=function(c,a,e){a=a.trim();var b=a.split(" ").length;a+=" ";if(2>b)return a;var d=document.createElement("span");
d.innerHTML=a;c.appendChild(d);a=q(d,"width");c.removeChild(d);d.style.wordSpacing=Math.floor((e-a)/(b-1))+"px";d.setAttribute("data-owner","balance-text");d&&d.tagName?d.outerHTML?d=d.outerHTML:(c=document.createElement("div"),c.appendChild(d.cloneNode(!0)),d=c.innerHTML):d="";return d},C=function(c,a){return 0===a||a===c.length||h(c,a-1)&&!h(c,a)},D=function(c,a,e,b,d,g,h){var k;if(a&&"string"===typeof a)for(;;){for(;!C(a,g);)g+=d;c.innerHTML=a.substr(0,g);k=q(c,"width");if(0>d?k<=b||0>=k||0===
g:b<=k||e<=k||g===a.length)break;g+=d}h.index=g;h.width=k},t=[],y=function(){for(var c=document.querySelectorAll(".balance-text"),a=0;a<c.length;a++)-1===t.indexOf(c[a])&&t.push(c[a]);B(t,!0)},B=function(c,a){if(!x&&c){c.length||(c=[c]);for(var h=0;h<c.length;h++){var b=c[h];a||-1!==t.indexOf(b)||t.push(b);E(b);var d=b.style.whiteSpace,w=b.style.cssFloat,y=b.style.display,B=b.style.position,C=b.style.lineHeight;b.style.lineHeight="normal";var r=q(containerBoundingRect,"width"),z=q(containerBoundingRect,
"height");b.style.whiteSpace="nowrap";b.style.cssFloat="none";b.style.display="inline";b.style.position="static";var p=b.getBoundingClientRect(),l=p.width,p=p.height,A;if("pre-wrap"===d)A=0;else{var m=b;A=p;var f=document.createElement("div");f.style.display="block";f.style.position="absolute";f.style.bottom=0;f.style.right=0;f.style.width=0;f.style.height=0;f.style.margin=0;f.style.padding=0;f.style.visibility="hidden";f.style.overflow="hidden";var u=document.createElement("span");u.style.fontSize=
"2000px";u.innerHTML="&nbsp;";f.appendChild(u);m.appendChild(f);m=u.getBoundingClientRect();f.parentNode.removeChild(f);A/=m.height/m.width}if(0<r&&l>r&&5E3>l){var f=b.innerHTML,n=m="";e=b.currentStyle||window.getComputedStyle(b,null);u="justify"===e.textAlign;for(z=Math.round(z/p);1<z;){g=null;l=Math.round((l+A)/z-A);p=Math.round((f.length+1)/z)-1;n=new k;D(b,f,r,l,-1,p,n);var v=new k,p=n.index;D(b,f,r,l,1,p,v);n.reset();p=v.index;D(b,f,r,l,-1,p,n);l=0===n.index?v.index:r<v.width||n.index===v.index?
n.index:Math.abs(l-n.width)<Math.abs(v.width-l)?n.index:v.index;n=f.substr(0,l);u?m+=F(b,n,r):(m+=n.replace(/\s$/,""),m+='<br data-owner="balance-text">');f=f.substr(l);z--;b.innerHTML=f;l=q(b,"width")}b.innerHTML=u?m+F(b,f,r):m+f}b.style.whiteSpace=d;b.style.cssFloat=w;b.style.display=y;b.style.position=B;b.style.lineHeight=C}}};w.balanceText=B;w.balanceText.update=y;w.balanceText.disable=function(c){if(c){c.length||(c=[c]);for(var a=0;a<c.length;a++){E(c[a]);var e=t.indexOf(c[a]);-1!==e&&t.splice(e,
1)}}};"loading"!==document.readyState?y():document.addEventListener("DOMContentLoaded",y);smartresize(window,y)})("undefined"!==typeof module&&module.exports?module.exports:self||{});