(function(v){var q=function(c,w,k){var h;return function(){var q=this,A=arguments;h?clearTimeout(h):k&&c.apply(q,A);h=setTimeout(function(){k||c.apply(q,A);h=null},w||100)}};window.smartresize=function(c,w){c.length||(c=[c]);for(var k=0;k<c.length;k++)if(w)c[k].addEventListener("resize",q(w));else{var h=document.createEvent("HTMLEvents");h.initEvent("resize",!0,!1);c[k].dispatchEvent(h)}}})(window);
(function(v){function q(){this.reset()}var c=document.documentElement.style,w=c.textWrap||c.WebkitTextWrap||c.MozTextWrap||c.MsTextWrap||c.OTextWrap,k;q.prototype.reset=function(){this.width=this.index=0};var h=function(e,b){var g=/\s(?![^<]*>)/g,a;if(!k)for(k=[];null!==(a=g.exec(e));)k.push(a.index);return-1!==k.indexOf(b)},E=function(e){for(var b=e.querySelectorAll('br[data-owner="balance-text"]'),g=0;g<b.length;g++)b[g].parentNode.removeChild(b[g]);b=e.querySelectorAll('span[data-owner="balance-text"]');
if(0<b.length){for(var a="",g=0;g<b.length;g++)a+=b[g].textContent,b[g].parentNode.removeChild(b[g]);e.innerHTML=a}},A=function(e,b,g){b=b.trim();var a=b.split(" ").length;b+=" ";if(2>a)return b;var f=document.createElement("span");f.innerHTML=b;e.appendChild(f);b=f.getBoundingClientRect().width;e.removeChild(f);f.style.wordSpacing=Math.floor((g-b)/(a-1))+"px";f.setAttribute("data-owner","balance-text");f&&f.tagName?f.outerHTML?f=f.outerHTML:(e=document.createElement("div"),e.appendChild(f.cloneNode(!0)),
f=e.innerHTML):f="";return f},G=function(e,b){return 0===b||b===e.length||h(e,b-1)&&!h(e,b)},D=function(e,b,g,a,f,c,k){var h;if(b&&"string"===typeof b)for(;;){for(;!G(b,c);)c+=f;e.innerHTML=b.substr(0,c);h=e.getBoundingClientRect().width;if(0>f?h<=a||0>=h||0===c:a<=h||g<=h||c===b.length)break;c+=f}k.index=c;k.width=h},B=[],C=!1,x=function(){if(!C){C=!0;for(var c=document.querySelectorAll(".balance-text"),b=0;b<c.length;b++)B.push(c[b])}for(b=0;b<B.length;b++)F(B[b],!0)},F=function(e,b){e.length||
(e=[e]);for(var g=0;g<e.length;g++){var a=e[g];b||-1!==B.indexOf(a)||B.push(a);if(w)break;E(a);var f=a.style.whiteSpace,h=a.style["float"],v=a.style.display,x=a.style.position,C=a.style.lineHeight;a.style.lineHeight="normal";var l=a.getBoundingClientRect(),r=l.width,y=l.height;a.style.whiteSpace="nowrap";a.style.cssFloat="none";a.style.display="inline";a.style.position="static";var p=a.getBoundingClientRect(),l=p.width,p=p.height,z;if("pre-wrap"===f)z=0;else{var m=a;z=p;var d=document.createElement("div");
d.style.display="block";d.style.position="absolute";d.style.bottom=0;d.style.right=0;d.style.width=0;d.style.height=0;d.style.margin=0;d.style.padding=0;d.style.visibility="hidden";d.style.overflow="hidden";var t=document.createElement("span");t.style.fontSize="2000px";t.innerHTML="&nbsp;";d.appendChild(t);m.appendChild(d);m=t.getBoundingClientRect();d.parentNode.removeChild(d);z/=m.height/m.width}if(0<r&&l>r&&5E3>l){var d=a.innerHTML,n=m="";c=a.currentStyle||window.getComputedStyle(a,null);t="justify"===
c.textAlign;for(y=Math.round(y/p);1<y;){k=null;l=Math.round((l+z)/y-z);p=Math.round((d.length+1)/y)-1;n=new q;D(a,d,r,l,-1,p,n);var u=new q,p=n.index;D(a,d,r,l,1,p,u);n.reset();p=u.index;D(a,d,r,l,-1,p,n);l=0===n.index?u.index:r<u.width||n.index===u.index?n.index:Math.abs(l-n.width)<Math.abs(u.width-l)?n.index:u.index;n=d.substr(0,l);t?m+=A(a,n,r):(m+=n.replace(/\s$/,""),m+='<br data-owner="balance-text" />');d=d.substr(l);y--;a.innerHTML=d;l=a.getBoundingClientRect().width}a.innerHTML=t?m+A(a,d,
r):m+d}a.style.whiteSpace=f;a.style.cssFloat=h;a.style.display=v;a.style.position=x;a.style.lineHeight=C}};v.balanceText=F;v.balanceText.update=x;v.balanceText.removeTags=E;"loading"!=document.readyState?x():document.addEventListener("DOMContentLoaded",x);smartresize(document.documentElement,x)})("undefined"!==typeof module&&module.exports?module.exports:self||{});