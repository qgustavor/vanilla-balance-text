(function(E,D){var g=function(q,t,l){var u;return function(){var g=this,y=arguments;u?clearTimeout(u):l&&q.apply(g,y);u=setTimeout(function(){l||q.apply(g,y);u=null},t||100)}};window.smartresize=function(q,t){q.length||(q=[q]);for(var l=0;l<q.length;l++)if(t)q[l].addEventListener("resize",g(t));else{var u=document.createEvent("HTMLEvents");u.initEvent("resize",!0,!1);q[l].dispatchEvent(u)}}})(window);
(function(E){function D(){this.reset()}var g=document.documentElement.style,q=g.textWrap||g.WebkitTextWrap||g.MozTextWrap||g.MsTextWrap||g.OTextWrap,t;D.prototype.reset=function(){this.width=this.index=0};var l=function(e,b){var g=/\s(?![^<]*>)/g,a;if(!t)for(t=[];null!==(a=g.exec(e));)t.push(a.index);return-1!==t.indexOf(b)},u=function(e,b,g){b=b.trim();var a=b.split(" ").length;b+=" ";if(2>a)return b;var c=document.createElement("span");c.innerHTML=b;e.appendChild(c);b=c.getBoundingClientRect().width;
e.removeChild(c);c.style.wordSpacing=Math.floor((g-b)/(a-1))+"px";c.setAttribute("data-owner","balance-text");c&&c.tagName?c.outerHTML?c=c.outerHTML:(e=document.createElement("div"),e.appendChild(c.cloneNode(!0)),c=e.innerHTML):c="";return c},G=function(e,b){return 0===b||b===e.length||l(e,b-1)&&!l(e,b)},y=function(e,b,g,a,c,f,k){var p;if(b&&"string"===typeof b)for(;;){for(;!G(b,f);)f+=c;e.innerHTML=b.substr(0,f);p=e.getBoundingClientRect().width;if(0>c?p<=a||0>=p||0===f:a<=p||g<=p||f===b.length)break;
f+=c}k.index=f;k.width=p},C=[],F=!1,z=function(){if(!F){F=!0;for(var e=document.querySelectorAll(".balance-text"),b=0;b<e.length;b++)C.push(e[b])}for(b=0;b<C.length;b++)balanceText(C[b],!0)};E.balanceText=function(e,b){e.length||(e=[e]);for(var l=0;l<e.length;l++){var a=e[l];b||-1!==C.indexOf(a)||C.push(a);if(q)break;for(var c=a,f=c.querySelectorAll('br[data-owner="balance-text"]'),k=0;k<f.length;k++)f[k].parentNode.removeChild(f[k]);f=c.querySelectorAll('span[data-owner="balance-text"]');if(0<f.length){for(var p=
"",k=0;k<f.length;k++)p+=f[k].textContent,f[k].parentNode.removeChild(f[k]);c.innerHTML=p}var c=a.style.whiteSpace,k=a.style["float"],f=a.style.display,p=a.style.position,z=a.style.lineHeight;a.style.lineHeight="normal";var h=a.getBoundingClientRect(),v=h.width,A=h.height;a.style.whiteSpace="nowrap";a.style.cssFloat="none";a.style.display="inline";a.style.position="static";var r=a.getBoundingClientRect(),h=r.width,r=r.height,B;if("pre-wrap"===c)B=0;else{var m=a;B=r;var d=document.createElement("div");
d.style.display="block";d.style.position="absolute";d.style.bottom=0;d.style.right=0;d.style.width=0;d.style.height=0;d.style.margin=0;d.style.padding=0;d.style.visibility="hidden";d.style.overflow="hidden";var w=document.createElement("span");w.style.fontSize="2000px";w.innerHTML="&nbsp;";d.appendChild(w);m.appendChild(d);m=w.getBoundingClientRect();d.parentNode.removeChild(d);B/=m.height/m.width}if(0<v&&h>v&&5E3>h){var d=a.innerHTML,n=m="";g=a.currentStyle||window.getComputedStyle(a,null);w="justify"===
g.textAlign;for(A=Math.round(A/r);1<A;){t=null;h=Math.round((h+B)/A-B);r=Math.round((d.length+1)/A)-1;n=new D;y(a,d,v,h,-1,r,n);var x=new D,r=n.index;y(a,d,v,h,1,r,x);n.reset();r=x.index;y(a,d,v,h,-1,r,n);h=0===n.index?x.index:v<x.width||n.index===x.index?n.index:Math.abs(h-n.width)<Math.abs(x.width-h)?n.index:x.index;n=d.substr(0,h);w?m+=u(a,n,v):(m+=n.replace(/\s$/,""),m+='<br data-owner="balance-text" />');d=d.substr(h);A--;a.innerHTML=d;h=a.getBoundingClientRect().width}a.innerHTML=w?m+u(a,d,
v):m+d}a.style.whiteSpace=c;a.style.cssFloat=k;a.style.display=f;a.style.position=p;a.style.lineHeight=z}};E.balanceText.update=z;"loading"!=document.readyState?z():document.addEventListener("DOMContentLoaded",z);smartresize(document.documentElement,z)})("undefined"!==typeof module&&module.exports?module.exports:self||{});