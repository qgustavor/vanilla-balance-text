(function(v){var k=function(e,w,g){var h;return function(){var k=this,z=arguments;h?clearTimeout(h):g&&e.apply(k,z);h=setTimeout(function(){g||e.apply(k,z);h=null},w||100)}};window.smartresize=function(e,w){e.length||(e=[e]);for(var g=0;g<e.length;g++)if(w)e[g].addEventListener("resize",k(w));else{var h=document.createEvent("HTMLEvents");h.initEvent("resize",!0,!1);e[g].dispatchEvent(h)}}})(window);
(function(v){function k(){this.reset()}var e=document.documentElement.style,w=e.textWrap||e.WebkitTextWrap||e.MozTextWrap||e.MsTextWrap||e.OTextWrap,g;k.prototype.reset=function(){this.width=this.index=0};var h=function(c,b){var e=/\s(?![^<]*>)/g,a;if(!g)for(g=[];null!==(a=e.exec(c));)g.push(a.index);return-1!==g.indexOf(b)},E=function(c){if(c){var b,e=!1;c.hasAttribute("id")?b=c.getAttribute("id"):(b="balancetext_"+Date.now(),c.setAttribute("id",b),e=!0);for(var a=document.querySelectorAll("#"+b+
' br[data-owner="balance-text"]'),d=0;d<a.length;d++)a[d].parentNode.replaceChild(document.createTextNode(" "),a[d]);b=document.querySelectorAll("#"+b+' span[data-owner="balance-text"]');if(0<b.length){a="";for(d=0;d<b.length;d++)a+=b[d].textContent,b[d].parentNode.removeChild(b[d]);c.innerHTML=a}e&&c.removeAttribute("id")}},z=function(c,b,e){b=b.trim();var a=b.split(" ").length;b+=" ";if(2>a)return b;var d=document.createElement("span");d.innerHTML=b;c.appendChild(d);b=parseInt(window.getComputedStyle(d).width);
c.removeChild(d);d.style.wordSpacing=Math.floor((e-b)/(a-1))+"px";d.setAttribute("data-owner","balance-text");d&&d.tagName?d.outerHTML?d=d.outerHTML:(c=document.createElement("div"),c.appendChild(d.cloneNode(!0)),d=c.innerHTML):d="";return d},C=function(c,b){return 0===b||b===c.length||h(c,b-1)&&!h(c,b)},D=function(c,b,e,a,d,g,h){var k;if(b&&"string"===typeof b)for(;;){for(;!C(b,g);)g+=d;c.innerHTML=b.substr(0,g);k=c.offsetWidth;if(0>d?k<=a||0>=k||0===g:a<=k||e<=k||g===b.length)break;g+=d}h.index=
g;h.width=k},r=[],x=function(){for(var c=document.querySelectorAll(".balance-text"),b=0;b<c.length;b++)-1===r.indexOf(c[b])&&r.push(c[b]);B(r,!0)},B=function(c,b){if(!w&&void 0!==c){void 0===c.length&&(c=[c]);for(var h=0;h<c.length;h++){var a=c[h];b||-1!==r.indexOf(a)||r.push(a);E(a);var d=a.style.whiteSpace,v=a.style.cssFloat,x=a.style.display,B=a.style.position,C=a.style.lineHeight;a.style.lineHeight="normal";var q=a.offsetWidth,y=a.offsetHeight;a.style.whiteSpace="nowrap";a.style.cssFloat="none";
a.style.display="inline";a.style.position="static";a.getBoundingClientRect();var l=a.offsetWidth,m=a.offsetHeight,A;if("pre-wrap"===d)A=0;else{var n=a;A=m;var f=document.createElement("div");f.style.display="block";f.style.position="absolute";f.style.bottom=0;f.style.right=0;f.style.width=0;f.style.height=0;f.style.margin=0;f.style.padding=0;f.style.visibility="hidden";f.style.overflow="hidden";var t=document.createElement("span");t.style.fontSize="2000px";t.innerHTML="&nbsp;";f.appendChild(t);n.appendChild(f);
n=t.getBoundingClientRect();f.parentNode.removeChild(f);A/=n.height/n.width}if(0<q&&l>q&&5E3>l){f=a.innerHTML;n="";e=a.currentStyle||window.getComputedStyle(a,null);t="justify"===e.textAlign;for(y=Math.round(y/m);1<y;){g=null;var l=Math.round((l+A)/y-A),m=Math.round((f.length+1)/y)-1,p=new k;D(a,f,q,l,-1,m,p);var u=new k,m=p.index;D(a,f,q,l,1,m,u);p.reset();m=u.index;D(a,f,q,l,-1,m,p);m=0===p.index?u.index:q<u.width||p.index===u.index?p.index:Math.abs(l-p.width)<Math.abs(u.width-l)?p.index:u.index;
l=f.substr(0,m);t?n+=z(a,l,q):(n+=l.replace(/\s$/,""),n+='<br data-owner="balance-text">');f=f.substr(m);y--;a.innerHTML=f;l=a.offsetWidth}a.innerHTML=t?n+z(a,f,q):n+f}a.style.whiteSpace=d;a.style.cssFloat=v;a.style.display=x;a.style.position=B;a.style.lineHeight=C}}};v.balanceText=B;v.balanceText.update=x;v.balanceText.disable=function(c){if(void 0!==c){void 0===c.length&&(c=[c]);for(var b=0;b<c.length;b++){E(c[b]);var e=r.indexOf(c[b]);-1!==e&&r.splice(e,1)}}};"loading"!==document.readyState?x():
document.addEventListener("DOMContentLoaded",x);smartresize(window,x)})("undefined"!==typeof module&&module.exports?module.exports:self||{});
